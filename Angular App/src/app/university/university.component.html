<div class="container">
    <h1>University App</h1>
    <form #save="ngForm" (ngSubmit)="saveUniversity(save)">
        <div class="form-group">
            <label for="universityName">Name</label>
            <input
                type="text"
                class="form-control"
                id="universityName"
                name="universityName"
                placeholder="University Name"
                required
                minlength="3"
                pattern="[A-Za-z]+"
                ngModel
                #universityName="ngModel"
                (change)="validate(save)"
            />

            <div
                id="universityNameHelp"
                class="alert alert-danger"
                *ngIf="universityName.touched && !universityName.valid"
            >
                <div *ngIf="universityName.errors?.required">
                    University name is required
                </div>
                <div *ngIf="universityName.errors?.minlength">
                    University name must be at least 3 characters
                </div>
                <div *ngIf="universityName.errors?.pattern">
                    Enter a valid University name
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="universityAddress">Address</label>
            <input
                type="text"
                class="form-control"
                id="universityAddress"
                name="universityAddress"
                placeholder="University Address"
                required
                ngModel
            />
            <small id="universityAddressHelp" class="text-danger"></small>
        </div>
        <div class="form-group">
            <label for="universityPhone">Phone</label>
            <input
                type="text"
                class="form-control"
                id="universityPhone"
                name="universityPhone"
                placeholder="University Phone Number"
                required
                ngModel
            />
            <small id="universityPhoneHelp" class="text-danger"></small>
        </div>
        <div class="mt-2">
            <button type="submit" class="btn btn-success" id="saveButton">
                Save
            </button>
            <button
                type="button"
                class="btn btn-danger ms-2"
                id="deleteButton"
                (click)="deleteUniversity()"
                [disabled]="deleteBtn"
            >
                Delete
            </button>
        </div>
    </form>

    <form id="search" class="mt-4">
        <div class="form-group">
            <label for="searchUniversity">Search</label>
            <input
                class="form-control"
                type="text"
                placeholder="Enter university name"
                id="searchUniversity"
                required
            />
            <button
                type="button"
                class="btn btn-success mt-2"
                id="searchButton"
                (click)="getUniversity()"
            >
                Search
            </button>
            <br />
            <button
                type="button"
                id="displayRecords"
                class="btn btn-outline-success mt-2"
                (click)="displayRecords = true"
            >
                Display Records
            </button>
            <br />
            <table
                id="displayTable"
                class="table-bordered mt-5"
                *ngIf="displayRecords"
            >
                <thead id="tblHead">
                    <tr>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Phone</th>
                    </tr>
                </thead>
                <tbody id="tblBody">
                    <tr *ngFor="let d of data">
                        <td>{{ d.name }}</td>
                        <td>{{ d.address }}</td>
                        <td>{{ d.phone }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </form>
</div>
